import{r as R,j as e}from"../vendor/react-CJ2V4BqM.js";import{h as T}from"../vendor/html2canvas-BfYXEYrK.js";import{m as S}from"../vendor/marked-DK8KC6kv.js";import{c as H}from"../vendor/react-dom-BRm_IiUy.js";import{u as U,m as a}from"../vendor/framer-motion-CLzqDuJ2.js";import{U as N,C as L,B as I,I as P,H as z,F as B,S as W,b as V,c as O,D as A}from"../vendor/lucide-react-D5e_nBrO.js";function ee({username:l,profileData:t,roast:s,darkMode:n,copied:_,copyToClipboard:f,lang:w}){const r=R.useRef(null);U(r,{once:!0});const h={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1,delayChildren:.3}}},u={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.5}}};return e.jsxs(a.div,{className:"max-w-6xl mx-auto px-2 md:px-0",initial:{opacity:0,x:300},animate:{opacity:1,x:0},exit:{opacity:0},transition:{duration:.5},ref:r,children:[e.jsxs(a.div,{className:"text-center mb-6 md:mb-10",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e.jsx(a.h2,{className:`text-2xl md:text-4xl font-black ${n?"text-white":"text-black"} mb-2`,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3,type:"spring"},children:w=="en"?"Roast Results":"Hasil Roast"}),e.jsx(a.div,{className:"h-1.5 md:h-2 w-32 md:w-40 mx-auto bg-black rounded-full overflow-hidden",initial:{width:0},animate:{width:"8rem"},style:{width:window.innerWidth>=768?"10rem":"8rem"},transition:{delay:.4,duration:.8}})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-4 md:gap-8",children:[e.jsx(X,{username:l,profileData:t,darkMode:n}),e.jsx(Y,{username:l,roast:s,darkMode:n,copied:_,copyToClipboard:f,container:h,item:u,profileData:t,lang:w})]})]},"results")}function X({username:l,profileData:t,darkMode:s}){return e.jsx(a.div,{className:`lg:col-span-2 ${s?"bg-lime-600":"bg-lime-400"} border-3 md:border-4 border-black rounded-md shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] md:shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] overflow-hidden h-fit`,initial:{x:-100,opacity:0},animate:{x:0,opacity:1,transition:{delay:.2}},whileHover:{y:-5,boxShadow:"4px 9px 0px 0px rgba(0,0,0,1)"},children:e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("h2",{className:`text-xl md:text-2xl font-black mb-4 md:mb-6 ${s?"text-white":"text-black"} flex items-center gap-2 md:gap-3 border-b-3 md:border-b-4 border-black pb-2 md:pb-3`,children:[e.jsx(N,{className:"w-5 h-5 md:w-6 md:h-6"}),"Profil @",l]}),e.jsxs("div",{className:"flex flex-col space-y-4 md:space-y-6 mb-4 md:mb-6",children:[t!=null&&t.profilePicUrl?e.jsxs(a.div,{className:"relative mx-auto w-24 h-24 md:w-32 md:h-32 rounded-md overflow-hidden border-3 md:border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] md:shadow-[8px_8px_0px_0px_rgba(0,0,0,1)]",initial:{scale:0},animate:{scale:1},transition:{delay:.4,type:"spring"},whileHover:{rotate:5},children:[e.jsx("img",{src:new URL(t.profilePicUrl).searchParams.get("url")??t.profilePicUrl,alt:`${l}'s profile`,className:"w-full h-full object-cover",referrerPolicy:"no-referrer",onError:n=>{n.currentTarget.src="https://www.pngitem.com/pimgs/m/421-4212617_person-placeholder-image-transparent-hd-png-download.png"}}),e.jsx(a.div,{className:"absolute inset-0 flex items-center justify-center bg-black/50",initial:{opacity:0},whileHover:{opacity:1},children:e.jsx(L,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})})]}):e.jsx("div",{className:"mx-auto w-24 h-24 md:w-32 md:h-32 rounded-md bg-white border-3 md:border-4 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] md:shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] flex items-center justify-center",children:e.jsx(N,{className:"w-12 h-12 md:w-16 md:h-16 text-black"})}),e.jsxs("div",{className:"text-center",children:[e.jsxs(a.div,{className:`font-black ${s?"text-white":"text-black"} text-xl md:text-3xl flex justify-center items-center gap-2`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[e.jsxs(a.p,{children:["@",l]}),(t==null?void 0:t.isVerified)&&e.jsx(I,{className:"fill-blue-500"})]}),(t==null?void 0:t.fullName)&&e.jsx(a.p,{className:`${s?"text-gray-300":"text-black"} text-base md:text-xl mt-1`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:t.fullName})]}),(t==null?void 0:t.biography)&&e.jsx(a.div,{className:`${s?"bg-zinc-800":"bg-white"} p-3 md:p-4 border-3 md:border-4 border-black rounded-md shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] md:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:e.jsx("p",{className:`text-base md:text-lg ${s?"text-white":"text-black"}`,dangerouslySetInnerHTML:{__html:t.biography}})})]}),e.jsxs(a.div,{className:"grid grid-cols-3 gap-2 md:gap-4 text-center",initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:.1,delayChildren:.8}},children:[e.jsx(C,{icon:e.jsx(P,{className:`w-5 h-5 md:w-6 md:h-6 ${s?"text-white":"text-black"} mx-auto mb-1 md:mb-2`}),value:t==null?void 0:t.tweetsCount,label:"Tweets",darkMode:s}),e.jsx(C,{icon:e.jsx(N,{className:`w-5 h-5 md:w-6 md:h-6 ${s?"text-white":"text-black"} mx-auto mb-1 md:mb-2`}),value:t==null?void 0:t.followersCount,label:"Followers",darkMode:s}),e.jsx(C,{icon:e.jsx(z,{className:`w-5 h-5 md:w-6 md:h-6 ${s?"text-white":"text-black"} mx-auto mb-1 md:mb-2`}),value:t==null?void 0:t.followsCount,label:"Following",darkMode:s})]})]})})}function C({icon:l,value:t,label:s,darkMode:n}){return e.jsxs(a.div,{className:`${n?"bg-zinc-800":"bg-white"} border-3 md:border-4 border-black rounded-md p-2 md:p-3 shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] md:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]`,initial:{y:20,opacity:0},animate:{y:0,opacity:1},whileHover:{y:-5},children:[l,e.jsx("p",{className:`font-black ${n?"text-white":"text-black"} text-lg md:text-2xl`,children:t}),e.jsx("p",{className:`${n?"text-gray-300":"text-black"} font-bold text-xs md:text-base`,children:s})]})}function Y({username:l,roast:t,darkMode:s,copied:n,copyToClipboard:_,container:f,item:w,profileData:r,lang:h}){const u=R.useRef(null),[$,j]=R.useState(!1),E=async()=>{if(!(!u.current||!t))try{j(!0);const i=document.createElement("div");i.style.padding="20px",i.style.backgroundColor=s?"#18181b":"#FF5F1F",i.style.borderRadius="8px",i.style.maxWidth="600px";const d=document.createElement("div");d.style.display="flex",d.style.alignItems="center",d.style.marginBottom="15px",d.style.padding="10px",d.style.backgroundColor=s?"rgba(0,0,0,0.3)":"rgba(255,255,255,0.3)",d.style.borderRadius="8px";const x=document.createElement("img");x.src=(r==null?void 0:r.profilePicUrl)||"https://www.pngitem.com/pimgs/m/421-4212617_person-placeholder-image-transparent-hd-png-download.png",x.alt=l,x.style.width="64px",x.style.height="64px",x.style.borderRadius="8px",x.style.border="3px solid #000000",x.style.objectFit="cover";const y=document.createElement("div");y.style.marginLeft="15px";const m=document.createElement("div");m.style.display="flex",m.style.alignItems="center",m.style.justifyContent="center",m.style.gap="4px";const g=document.createElement("div");g.innerText=`@${l}`,g.style.fontWeight="bold",g.style.fontSize="18px",g.style.color=s?"#ffffff":"#000000",m.appendChild(g);const k=document.createElement("span");if(m.appendChild(k),H.createRoot(k).render(e.jsx(I,{className:"fill-blue-500"})),r!=null&&r.fullName){const c=document.createElement("div");c.innerText=r.fullName,c.style.fontSize="14px",c.style.color=s?"#cccccc":"#333333",y.appendChild(m),y.appendChild(c)}else y.appendChild(m);d.appendChild(x),d.appendChild(y);const b=document.createElement("div");b.style.backgroundColor=s?"#27272a":"#ffffff",b.style.borderRadius="8px",b.style.padding="20px",b.style.border="3px solid #000000",await(async()=>{for(const c of t.split(`
`))if(c.trim()){const o=document.createElement("p");o.innerHTML=await S(c),o.style.color=s?"#ffffff":"#000000",o.style.fontSize="16px",o.style.fontWeight="bold",o.style.marginBottom="12px",o.style.paddingLeft="16px",b.appendChild(o)}})();const p=document.createElement("div");p.style.marginTop="15px",p.style.textAlign="center",p.style.fontWeight="bold",p.style.color=s?"#ffffff":"#000000",p.style.opacity="0.7",p.innerText="RoastX by kiuyha",i.appendChild(d),i.appendChild(b),i.appendChild(p),document.body.appendChild(i);const F=await T(i,{backgroundColor:s?"#18181b":"#FF5F1F",logging:!1,useCORS:!0,allowTaint:!0});document.body.removeChild(i),F.toBlob(c=>{if(!c){console.error("Failed to create blob");return}const o=URL.createObjectURL(c),v=document.createElement("a");v.download=`roastx-${l}-${Date.now()}.png`,v.href=o,v.click(),URL.revokeObjectURL(o),j(!1)},"image/png")}catch(i){console.error("Error capturing roast:",i),j(!1)}};return e.jsx(a.div,{className:`lg:col-span-3 ${s?"bg-orange-600":"bg-orange-400"} border-3 md:border-4 border-black rounded-md shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] md:shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] overflow-hidden`,initial:{x:100,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3}},whileHover:{y:-5,boxShadow:"4px 9px 0px 0px rgba(0,0,0,1)"},children:e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("h2",{className:`text-xl md:text-2xl font-black mb-4 md:mb-6 ${s?"text-white":"text-black"} flex items-center gap-2 md:gap-3 border-b-3 md:border-b-4 border-black pb-2 md:pb-3`,children:[e.jsx(B,{className:`w-5 h-5 md:w-6 md:h-6 ${s?"text-yellow-300":"text-red-600"}`}),h=="en"?"Result":"Hasil Roast"]}),e.jsx(a.div,{className:`${s?"bg-zinc-800":"bg-white"} border-3 md:border-4 border-black rounded-md p-3 md:p-5 shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] md:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] mb-4 md:mb-6`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},ref:u,children:t?e.jsx(a.div,{variants:f,initial:"hidden",animate:"show",className:`${s?"text-white":"text-black"} space-y-3 md:space-y-4 text-base md:text-lg font-bold`,children:t.split(`
`).map((i,d)=>e.jsx(a.div,{variants:w,className:"relative",children:e.jsx("p",{className:`${s?"text-white":"text-black"} text-base md:text-lg font-bold pl-4 md:pl-6`,dangerouslySetInnerHTML:{__html:S(i)}})},d))}):e.jsx("p",{className:`${s?"text-white":"text-black"} text-base md:text-lg font-bold`,children:h=="en"?"No roast generated yet.":"Belum ada roast yang dibuat."})}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-3 md:gap-4",children:[e.jsxs(a.div,{className:"flex items-center gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},children:[e.jsx(a.div,{animate:{rotate:[0,10,-10,10,0]},transition:{duration:2,repeat:Number.POSITIVE_INFINITY},children:e.jsx(W,{className:`w-5 h-5 md:w-6 md:h-6 ${s?"text-yellow-300":"text-yellow-500"}`})}),e.jsx("p",{className:`${s?"text-white":"text-black"} font-bold text-sm md:text-base`,children:h=="en"?"Created by AI, don't get mad ( ˶ˆᗜˆ˵ )":"Dibuat oleh AI, jadi jangan baper yak ( ˶ˆᗜˆ˵ )"})]}),e.jsxs("div",{className:"flex gap-2 md:gap-3",children:[e.jsx(a.button,{onClick:_,className:`flex items-center gap-1 md:gap-2 ${s?"text-white bg-zinc-800":"text-black bg-white"} font-bold px-3 md:px-4 py-2 md:py-3 rounded-md border-3 md:border-4 border-black shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] md:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] text-sm md:text-base`,whileHover:{x:-2,y:-2,boxShadow:"5px 5px 0px 0px rgba(0,0,0,1)"},whileTap:{x:0,y:0,boxShadow:"3px 3px 0px 0px rgba(0,0,0,1)"},initial:{opacity:0},animate:{opacity:1},transition:{delay:1.3},children:n?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-4 h-4 md:w-5 md:h-5"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"w-4 h-4 md:w-5 md:h-5"}),"Copy"]})}),e.jsxs(a.button,{onClick:E,disabled:$||!t,className:`flex items-center gap-1 md:gap-2 ${s?"text-white bg-cyan-600":"text-black bg-cyan-400"} font-bold px-3 md:px-4 py-2 md:py-3 rounded-md border-3 md:border-4 border-black shadow-[3px_3px_0px_0px_rgba(0,0,0,1)] md:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] text-sm md:text-base disabled:opacity-50`,whileHover:{x:-2,y:-2,boxShadow:"5px 5px 0px 0px rgba(0,0,0,1)"},whileTap:{x:0,y:0,boxShadow:"3px 3px 0px 0px rgba(0,0,0,1)"},initial:{opacity:0},animate:{opacity:1},transition:{delay:1.35},children:[e.jsx(A,{className:"w-4 h-4 md:w-5 md:h-5"}),$?"Saving...":"Save Image"]})]})]})]})})}export{ee as R};

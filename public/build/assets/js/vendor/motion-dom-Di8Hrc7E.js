import{a as k,p as z,n as O,M as W,S as $,v as _}from"./motion-utils-BDWe_Wef.js";const H=k(()=>window.ScrollTimeline!==void 0);class j{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(r=>{if(H()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{s.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class pe extends j{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function me(t,e){return t?t[e]||t.default||t:void 0}const F=2e4;function ve(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<F;)e+=n,s=t.next(e);return e>=F?1/0:e}function ye(t){return typeof t=="function"}function ge(t,e){t.timeline=e,t.onfinish=null}const D=t=>Array.isArray(t)&&typeof t[0]=="number",X={linearEasing:void 0};function Y(t,e){const n=k(t);return()=>{var s;return(s=X[e])!==null&&s!==void 0?s:n()}}const b=Y(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),J=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=t(z(0,r-1,i))+", ";return`linear(${s.substring(0,s.length-2)})`};function Q(t){return!!(typeof t=="function"&&b()||!t||typeof t=="string"&&(t in L||b())||D(t)||Array.isArray(t)&&t.every(Q))}const g=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,L={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:g([0,.65,.55,1]),circOut:g([.55,0,1,.45]),backIn:g([.31,.01,.66,-.59]),backOut:g([.33,1.53,.69,.99])};function Z(t,e){if(t)return typeof t=="function"&&b()?J(t,e):D(t)?g(t):Array.isArray(t)?t.map(n=>Z(n,e)||L.easeOut):L[t]}const E=["read","resolveKeyframes","update","preRender","render","postRender"];function ee(t,e){let n=new Set,s=new Set,r=!1,i=!1;const l=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function u(a){l.has(a)&&(c.schedule(a),t()),a(o)}const c={schedule:(a,p=!1,v=!1)=>{const y=v&&r?n:s;return p&&l.add(a),y.has(a)||y.add(a),a},cancel:a=>{s.delete(a),l.delete(a)},process:a=>{if(o=a,r){i=!0;return}r=!0,[n,s]=[s,n],n.forEach(u),n.clear(),r=!1,i&&(i=!1,c.process(a))}};return c}const te=40;function N(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,l=E.reduce((d,m)=>(d[m]=ee(i),d),{}),{read:o,resolveKeyframes:u,update:c,preRender:a,render:p,postRender:v}=l,f=()=>{const d=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(d-r.timestamp,te),1),r.timestamp=d,r.isProcessing=!0,o.process(r),u.process(r),c.process(r),a.process(r),p.process(r),v.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(f))},y=()=>{n=!0,s=!0,r.isProcessing||t(f)};return{schedule:E.reduce((d,m)=>{const q=l[m];return d[m]=(B,K=!1,U=!1)=>(n||y(),q.schedule(B,K,U)),d},{}),cancel:d=>{for(let m=0;m<E.length;m++)l[E[m]].cancel(d)},state:r,steps:l}}const{schedule:ne,cancel:Ae,state:C,steps:Ee}=N(typeof requestAnimationFrame<"u"?requestAnimationFrame:O,!0),{schedule:we}=N(queueMicrotask,!1);let w;function se(){w=void 0}const P={now:()=>(w===void 0&&P.set(C.isProcessing||W.useManualTiming?C.timestamp:performance.now()),w),set:t=>{w=t,queueMicrotask(se)}},h={x:!1,y:!1};function G(){return h.x||h.y}function Pe(t){return t==="x"||t==="y"?h[t]?null:(h[t]=!0,()=>{h[t]=!1}):h.x||h.y?null:(h.x=h.y=!0,()=>{h.x=h.y=!1})}function re(t,e,n){var s;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(s=void 0)!==null&&s!==void 0?s:r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function I(t,e){const n=re(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function V(t){return!(t.pointerType==="touch"||G())}function Te(t,e,n={}){const[s,r,i]=I(t,n),l=o=>{if(!V(o))return;const{target:u}=o,c=e(u,o);if(typeof c!="function"||!u)return;const a=p=>{V(p)&&(c(p),u.removeEventListener("pointerleave",a))};u.addEventListener("pointerleave",a,r)};return s.forEach(o=>{o.addEventListener("pointerenter",l,r)}),i}const R=(t,e)=>e?t===e?!0:R(t,e.parentElement):!1,ie=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,ae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function oe(t){return ae.has(t.tagName)||t.tabIndex!==-1}const A=new WeakSet;function x(t){return e=>{e.key==="Enter"&&t(e)}}function T(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ue=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=x(()=>{if(A.has(n))return;T(n,"down");const r=x(()=>{T(n,"up")}),i=()=>T(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function S(t){return ie(t)&&!G()}function be(t,e,n={}){const[s,r,i]=I(t,n),l=o=>{const u=o.currentTarget;if(!S(o)||A.has(u))return;A.add(u);const c=e(u,o),a=(f,y)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",v),!(!S(f)||!A.has(u))&&(A.delete(u),typeof c=="function"&&c(f,{success:y}))},p=f=>{a(f,u===window||u===document||n.useGlobalTarget||R(u,f.target))},v=f=>{a(f,!1)};window.addEventListener("pointerup",p,r),window.addEventListener("pointercancel",v,r)};return s.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",l,r),o instanceof HTMLElement&&(o.addEventListener("focus",c=>ue(c,r)),!oe(o)&&o.tabIndex===null&&(o.tabIndex=0))}),i}const M=30,ce=t=>!isNaN(parseFloat(t));class le{constructor(e,n={}){this.version="12.6.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{const i=P.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=P.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ce(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new $);const s=this.events[e].add(n);return e==="change"?()=>{s(),ne.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=P.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>M)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,M);return _(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Le(t,e){return new le(t,e)}export{pe as G,Le as a,F as b,ve as c,D as d,C as e,ne as f,J as g,Ae as h,ye as i,Z as j,ge as k,Q as l,we as m,me as n,ie as o,Pe as p,Ee as q,Te as r,b as s,P as t,be as u,re as v};

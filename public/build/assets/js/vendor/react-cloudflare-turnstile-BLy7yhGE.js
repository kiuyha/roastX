import{a as J,b as N,g as $}from"./react-DITM8GMD.js";var n={},o={},y;function A(){if(y)return o;y=1,Object.defineProperty(o,"__esModule",{value:!0}),o.default=d;const c=J(),t=N();function d({turnstileSiteKey:r,callback:l,theme:a,size:s,execution:i,action:p,cData:v,language:w,tabIndex:x,responseField:R,responseFieldName:_,retry:b,retryInterval:C,refreshExpired:k,refreshTimeout:E,expiredCallback:j,errorCallback:D,beforeInteractiveCallback:g,afterInteractiveCallback:q,unsupportedCallback:M}){const m=(0,t.useRef)(null),[h,O]=(0,t.useState)(!1),u=(0,t.useRef)(void 0),f=(0,t.useRef)(!1);(0,t.useEffect)(()=>{O(!0)},[]),(0,t.useEffect)(()=>{if(!window.turnstile){const e=document.createElement("script");return e.src="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit",e.async=!0,document.head.appendChild(e),()=>{document.head.removeChild(e)}}},[]);const P=()=>{var e;!((e=window==null?void 0:window.turnstile)===null||e===void 0)&&e.reset&&u.current&&window.turnstile.reset(u.current)},V=()=>{l(""),P()};(0,t.useEffect)(()=>{h&&!u.current&&!f.current&&(f.current=!0,(async()=>{for(;!window.turnstile;)await new Promise(S=>setTimeout(S,10));const e=window.turnstile.render(m.current,{sitekey:r,callback:l,theme:a,size:s,execution:i,action:p,cData:v,language:w,tabindex:x,"response-field":R,"response-field-name":_,retry:b,"retry-interval":C,"refresh-expired":k,"refresh-timeout":E,"expired-callback":j||V,"error-callback":D,"before-interactive-callback":g,"after-interactive-callback":q,"unsupported-callback":M});u.current=e,f.current=!1})())},[h,a,l,s]),(0,t.useEffect)(()=>()=>{var e;u.current&&(!((e=window.turnstile)===null||e===void 0)&&e.remove)&&window.turnstile.remove(u.current)},[]);const[F,I]=(0,t.useMemo)(()=>{switch(s){case"flexible":return["65px","100%"];case"compact":return["140px","150px"];case"normal":default:return["65px","300px"]}},[s]);return(0,c.jsx)("div",{ref:m,className:"react-cloudflare-turnstile",style:{height:F,width:I}})}return o}var T;function B(){if(T)return n;T=1;var c=n&&n.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(n,"__esModule",{value:!0}),n.verifyTurnstileToken=void 0;const t=c(A()),d=async({turnstileSecretKey:r,token:l})=>new Promise(async(a,s)=>{try{let i=new FormData;if(i.append("secret",r),i.append("response",l),!(await(await fetch("https://challenges.cloudflare.com/turnstile/v0/siteverify",{body:i,method:"POST"})).json()).success)throw new Error("Invalid Cloudflare Verification");a(!0)}catch(i){s(i)}});return n.verifyTurnstileToken=d,n.default=t.default,n}var G=B();const K=$(G);export{K as T};

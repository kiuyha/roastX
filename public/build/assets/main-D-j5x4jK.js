import{r as o,j as e}from"./js/vendor/react-CJ2V4BqM.js";import{T as N}from"./js/components/theme-toggle.tsx-Bzj9N4G4.js";import{H as L}from"./js/components/header.tsx-CStdh5Ap.js";import{I as O}from"./js/components/input-form.tsx-0nhgnljW.js";import{R as P}from"./js/components/results-section.tsx-B0ocaf16.js";import{L as $}from"./js/components/loading-overlay.tsx-DStE172z.js";import{u as I}from"./js/hooks/use-theme.tsx-D1AMQvHO.js";import{B as M}from"./js/components/background-pattern.tsx-DDgm4IlE.js";import{D as q}from"./js/components/decoration-elements.tsx-BFXgMZip.js";import{F as z}from"./js/components/footer.tsx-CpSMMdsD.js";import{a as A}from"./js/vendor/framer-motion-CLzqDuJ2.js";import"./js/vendor/lucide-react-D5e_nBrO.js";import"./js/vendor/html2canvas-BfYXEYrK.js";import"./js/vendor/marked-DK8KC6kv.js";import"./js/vendor/react-dom-BRm_IiUy.js";import"./js/vendor/scheduler-BNqrtbQi.js";import"./js/vendor/react-icons-sX9L970i.js";import"./js/vendor/motion-utils-BDWe_Wef.js";import"./js/vendor/motion-dom-Di8Hrc7E.js";function ie({lang:a}){const[r,c]=o.useState(""),[u,p]=o.useState(!1),[T,i]=o.useState(null),[m,f]=o.useState(null),[y,d]=o.useState(null),[b,w]=o.useState("idle"),[h,g]=o.useState(!1),[k,x]=o.useState(!1),{darkMode:t,setDarkMode:v}=I(),R=A(),C=async S=>{var j;S.preventDefault();const s=S.currentTarget.querySelector("input");s instanceof HTMLInputElement&&s.blur();try{p(!0),w("roasting");const n=await fetch(`/${a}/fetch-data`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content")},body:JSON.stringify({username:r})}),l=await n.json();if(!n.ok||!l.success){i(l.message||(a=="en"?"Something went wrong, please refresh the page and try again":"Terjadi kesalahan, silahkan refresh halaman dan coba lagi")),s==null||s.focus();return}const{dataProfile:F,roastText:H}=l;d(F),f(H),g(!0),i(null)}catch(n){i(a=="en"?"Something went wrong, please refresh the page and try again":"Terjadi kesalahan, silahkan refresh halaman dan coba lagi"),console.error(n),s==null||s.focus()}finally{p(!1)}},D=()=>{g(!1),f(null),d(null),c("")},E=()=>{m&&(navigator.clipboard.writeText(`Roast for @${r}:

${m}`),x(!0),setTimeout(()=>{x(!1)},2e3))};return e.jsxs("main",{className:`min-h-screen font-mono overflow-x-hidden transition-colors duration-300 ${t?"bg-zinc-900":"bg-gray-200"} relative`,children:[e.jsx(M,{darkMode:t}),e.jsx(N,{darkMode:t,setDarkMode:v}),e.jsxs("div",{className:"relative w-full z-10",children:[e.jsx(q,{darkMode:t}),e.jsx(L,{showResults:h,resetForm:D,darkMode:t}),e.jsxs("div",{className:"pt-20 md:pt-24 pb-8 md:pb-10 px-3 md:px-8",children:[h?e.jsx(P,{username:r,profileData:y,roast:m,darkMode:t,copied:k,copyToClipboard:E,lang:a}):e.jsx(O,{username:r,setUsername:c,handleSubmit:C,loading:u,error:T,darkMode:t,flameControls:R,lang:a}),u&&e.jsx($,{stage:b,darkMode:t,lang:a})]})]}),e.jsx(z,{darkMode:t})]})}export{ie as H};

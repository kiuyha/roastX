import{r as s,j as t}from"./js/vendor/react-CJ2V4BqM.js";import{T as N}from"./js/components/theme-toggle.tsx-Bzj9N4G4.js";import{H as L}from"./js/components/header.tsx-CStdh5Ap.js";import{I as O}from"./js/components/input-form.tsx-0nhgnljW.js";import{R as P}from"./js/components/results-section.tsx-joyOMZkf.js";import{L as $}from"./js/components/loading-overlay.tsx-DStE172z.js";import{u as I}from"./js/hooks/use-theme.tsx-D1AMQvHO.js";import{B as M}from"./js/components/background-pattern.tsx-DDgm4IlE.js";import{D as q}from"./js/components/decoration-elements.tsx-BFXgMZip.js";import{F as z}from"./js/components/footer.tsx-CpSMMdsD.js";import{a as A}from"./js/vendor/framer-motion-CLzqDuJ2.js";import"./js/vendor/lucide-react-D5e_nBrO.js";import"./js/vendor/html2canvas-BfYXEYrK.js";import"./js/vendor/marked-DK8KC6kv.js";import"./js/vendor/react-dom-BRm_IiUy.js";import"./js/vendor/scheduler-BNqrtbQi.js";import"./js/vendor/react-icons-sX9L970i.js";import"./js/vendor/motion-utils-BDWe_Wef.js";import"./js/vendor/motion-dom-Di8Hrc7E.js";function it({lang:r}){const[a,c]=s.useState(""),[u,p]=s.useState(!1),[T,i]=s.useState(null),[m,f]=s.useState(null),[w,d]=s.useState(null),[y,b]=s.useState("idle"),[x,h]=s.useState(!1),[v,S]=s.useState(!1),{darkMode:e,setDarkMode:R}=I(),k=A(),C=async j=>{var g;j.preventDefault();const o=j.currentTarget.querySelector("input");o instanceof HTMLInputElement&&o.blur();try{p(!0),b("roasting");const n=await fetch(`/${r}/fetch-data`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":(g=document.querySelector('meta[name="csrf-token"]'))==null?void 0:g.getAttribute("content")},body:JSON.stringify({username:a})}),l=await n.json();if(!n.ok||!l.success){i(l.message||(r=="en"?"Something went wrong":"Terjadi kesalahan")),o==null||o.focus();return}const{dataProfile:F,roastText:H}=l;d(F),f(H),h(!0),i(null)}catch(n){i(r=="en"?"Something went wrong":"Terjadi kesalahan"),console.error(n),o==null||o.focus()}finally{p(!1)}},D=()=>{h(!1),f(null),d(null),c("")},E=()=>{m&&(navigator.clipboard.writeText(`Roast for @${a}:

${m}`),S(!0),setTimeout(()=>{S(!1)},2e3))};return t.jsxs("main",{className:`min-h-screen font-mono overflow-x-hidden transition-colors duration-300 ${e?"bg-zinc-900":"bg-gray-200"} relative`,children:[t.jsx(M,{darkMode:e}),t.jsx(N,{darkMode:e,setDarkMode:R}),t.jsxs("div",{className:"relative w-full z-10",children:[t.jsx(q,{darkMode:e}),t.jsx(L,{showResults:x,resetForm:D,darkMode:e}),t.jsxs("div",{className:"pt-20 md:pt-24 pb-8 md:pb-10 px-3 md:px-8",children:[x?t.jsx(P,{username:a,profileData:w,roast:m,darkMode:e,copied:v,copyToClipboard:E,lang:r}):t.jsx(O,{username:a,setUsername:c,handleSubmit:C,loading:u,error:T,darkMode:e,flameControls:k,lang:r}),u&&t.jsx($,{stage:y,darkMode:e,lang:r})]})]}),t.jsx(z,{darkMode:e})]})}export{it as H};
